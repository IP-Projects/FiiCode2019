{"version":3,"sources":["ng://ngx-multi-media-album-management/lib/ngx-multi-media-album-management.component.ts","node_modules/tslib/tslib.es6.js","ng://ngx-multi-media-album-management/lib/shared/api/api.service.ts","ng://ngx-multi-media-album-management/lib/shared/easterEgg/snake.service.ts","ng://ngx-multi-media-album-management/lib/shared/services/floating-microphone.service.ts","ng://ngx-multi-media-album-management/lib/features/collection-of-multimedia-albums/collection-of-multimedia-albums.component.ts","ng://ngx-multi-media-album-management/lib/features/multimedia-album/multimedia-album.component.ts","ng://ngx-multi-media-album-management/lib/core/app-routing.module.ts","ng://ngx-multi-media-album-management/lib/features/collection-of-multimedia-albums/pipe/filterCollections.pipe.ts","ng://ngx-multi-media-album-management/lib/features/multimedia-album/album-loader/album-loader.component.ts","ng://ngx-multi-media-album-management/lib/features/multimedia-album/lightbox/lightbox.component.ts","ng://ngx-multi-media-album-management/lib/features/multimedia-album/pipe/filterAlbum.pipe.ts","ng://ngx-multi-media-album-management/lib/features/multimedia-album/stand-alone/stand-alone.component.ts","ng://ngx-multi-media-album-management/lib/features/multimedia-album/upload/upload.component.ts","ng://ngx-multi-media-album-management/lib/shared/modularComponents/audio-module/audio-module.component.ts","ng://ngx-multi-media-album-management/lib/shared/modularComponents/image-module/image-module.component.ts","ng://ngx-multi-media-album-management/lib/shared/modularComponents/video-module/video-module.component.ts","ng://ngx-multi-media-album-management/lib/ngx-multi-media-album-management.module.ts"],"names":["NgxMultiMediaAlbumManagementComponent","prototype","ngOnInit","Component","args","selector","template","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","ApiService","http","this","getData","url","get","postData","data","post","putData","put","deleteData","delete","Injectable","providedIn","HttpClient","SnakeService","snake","requestAnimationFrame","window","webkitRequestAnimationFrame","cancelAnimationFrame","getRandomInt","min","max","Math","floor","random","getUnixTimeMs","Date","getTime","HEIGHT","WIDTH","FRAME_LENGTH","DIRECTION","LEFT","UP","RIGHT","DOWN","Snake","parts","homeWidth","homeHeight","direction","stunned","frameId","lastDirectionChangeFrameId","midY","midX","addPart","addMovementListener","document","addEventListener","oldDirection","keyCode","y","x","Field","width","height","text","oldSnakeTail","buildText","field","horizontalBorder","getWidth","fieldLine","getHeight","getTextPosition","Game","score","status","frameHeader","running","gameOver","apple","generateApple","updateFrameHeader","game","j","getScore","getStatus","blockDirectionChange","updateFrameId","isStunned","eatApple","getParts","tail","isAppleEatable","head","getDirection","move","partId","draw","getText","snakeParts","partsMap","partNum","part","undefined","partsMapKeys","Object","keys","partsMapKeyNum","partsMapLine","charNum","partPosition","substr","oldTailPosition","newHeadPosition","getFullText","applePosition","incrementFrameId","getFrameId","setStatus","setRunning","isRunning","setOver","isOver","incrementScore","getField","getSnake","getApple","dropApple","printFrameHeader","getFrameHeader","console","log","drawField","fieldText","oldTime","newTime","timerId","tick","stop","clear","reset","run","FloatingMicrophoneService","makeFloatingMicrophone","speechComponent","elem","getElementById","moveFlag","speech","pos1","pos2","pos3","pos4","elementDrag","event","preventDefault","clientX","clientY","style","top","offsetTop","left","offsetLeft","closeDragElement","onmouseup","onmousemove","toggleMic","classList","contains","remove","add","start","innerHeight","innerWidth","onmousedown","dragMouseDown","test","navigator","userAgent","touchInputsListeners","mc","Hammer","Hammer.Pan","Hammer.DIRECTION_ALL","threshold","on","handleDrag","ev","isDragging","lastPosX","lastPosY","posX","deltaX","posY","deltaY","isFinal","CollectionOfMultimediaAlbumsComponent","api","formBuilder","router","floatingMicrophone","_loadedFirstTime","_noMoreData","_modalDeleteConfirmation","_destroyed","Subject","_addNewCollectionForm","group","collectionName","Validators","required","collectionType","keywords","loadInputOptionsOrDefault","speechActions","ngOnDestroy","complete","_this","message","pipe","catchError","err","EMPTY","takeUntil","subscribe","msg","click","getCollections","collectionUrl","replace","userId","take","skip","_collectionData","forEach","collection","str","_mostUsedKeywords","mostUsedKeywords","suggestedCollectionUrl","getSuggestedCollections","wordCounts","words","split","wordsList","k","JSON","parse","stringify","_suggestedCollectionData","onWindowScroll","pos","documentElement","scrollTop","body","offsetHeight","scrollHeight","_scrollAmount","parseFloat","ceil","loadCollectionsUntilScrollbarAppears","interval","setInterval","clearInterval","toggleDeleteButton","_deleteAccent","bootstrapAccentPrimary","bootstrapAccentSecondary","accessOrDelete","_markedForDeletion","navigate","id","accessRecommendedCollection","deleteCollection","deleteCollectionUrl","filter","item","addCollection","addCollectionUrl","Name","Type","Keywords","UserId","configPath","loadDefault","map","config","gridSize","gridSizeSuggestions","albumUrl","suggestedEntityUrl","deleteEntityUrl","addEntitiesUrl","getEntityUrl","slideShow","lockSlideShow","slideShowTimeBeforeNext","albumInputs","sessionStorage","setItem","FormBuilder","SpeechService","Router","Input","HostListener","MultimediaAlbumComponent","route","_slideIndex","_showSuggestedEntityModal","_suggestedSlideIndex","_upload","_cancel","params","collectionId","loadInputOptions","_showEntityModal","getAlbum","_albumData","placeholder","getSuggestedEntities","_suggestedEntities","noEntityModal","accessSuggested","noSuggestedEntityModal","deleteEntity","loadEntitiesUntilScrollbarAppears","loadMore","addNewData","upload","cancel","discardedData","getItem","albumInputOptions","setTimeout","ActivatedRoute","routes","path","component","redirectTo","AppRoutingModule","NgModule","imports","RouterModule","forRoot","exports","FilterCollectionsPipe","transform","items","searchText","toLowerCase","type","name","includes","some","word","Pipe","AlbumLoaderComponent","getEntity","sourceUrl","entityId","entityUrl","source","extension","LightboxComponent","noShow","EventEmitter","ready","startSlideShow","ngAfterViewInit","ngOnChanges","changes","show","slideIndex","index","openEntityModal","currentSlide","plusSlides","display","closeEntityModal","emit","showSlides","slides","getElementsByClassName","noMoreData","Output","FilterAlbumPipe","StandAloneComponent","UploadComponent","newData","discarded","$","$_","imageFormats","videoFormats","audioFormats","bypassCors","arrayOfEntityAndPlaceholder","urlInput","urlInputClass","makeUploadArea","uploadFiles","discardFile","entity","discardChanges","sendData","totalStorage","fileSize","dragover dragenter","stopPropagation","drop","ui","dataTransfer","originalEvent","files","readUploadedFilesAndGetPlaceholders","uploadFilesFromButton","target","file","fileName","size","reader","FileReader","readAsDataURL","onload","readerMetaData","imageData","audioData","videoData","pdfData","onerror","scrapUrl","getPlaceholderFromUrl","extensionArr","youtubeData","generatePostObject","canvas","isUrl","toDataURL","entityFile","img","Image","crossOrigin","src","createElement","getContext","drawImage","dataBypass","pdfjsLib.getDocument","then","pdf","getPage","page","viewport","getViewport","context","render","canvasContext","video","onloadeddata","AudioModuleComponent","sanitizer","DomSanitizer","ImageModuleComponent","VideoModuleComponent","NgxMultiMediaAlbumManagementModule","declarations","BrowserModule","FormsModule","ReactiveFormsModule","HttpClientModule","SpeechModule","PdfModuleModule","SvgModuleModule","YoutubeModuleModule","providers","provide","APP_BASE_HREF","useValue"],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: \"app-ngx-MultiMediaAlbumManagement\",\n  template: `\n    <router-outlet></router-outlet>\n  `,\n  styles: []\n})\nexport class NgxMultiMediaAlbumManagementComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit() {}\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class ApiService {\n  constructor(public http: HttpClient) {}\n  public getData(url) {\n    return this.http.get(url);\n  }\n  public postData(url, data) {\n    return this.http.post(url, data);\n  }\n  public putData(url, data) {\n    return this.http.put(url, data);\n  }\n  public deleteData(url) {\n    return this.http.delete(url);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class SnakeService {\n  constructor() {}\n\n  // Starting from Daniil Belyakov code I adapted it to work with Typescript/Angular\n  // His Licence Agreement\n  //  The MIT License (MIT)\n  //\n  //  Copyright (c) 2015 Daniil Belyakov\n  //\n  //  Permission is hereby granted, free of charge, to any person obtaining a copy\n  //  of this software and associated documentation files (the \"Software\"), to deal\n  //  in the Software without restriction, including without limitation the rights\n  //  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  //  copies of the Software, and to permit persons to whom the Software is\n  //  furnished to do so, subject to the following conditions:\n  //\n  //  The above copyright notice and this permission notice shall be included in all\n  //  copies or substantial portions of the Software.\n  //\n  //  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  //  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  //  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  //  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  //  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  //  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n  //  SOFTWARE.\n\n  snake() {\n    //==============================================================================\n    //==================================UTILITIES===================================\n    //==============================================================================\n    var requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n\n    var cancelAnimationFrame = window.cancelAnimationFrame;\n\n    function getRandomInt(min, max) {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n\n    function getUnixTimeMs() {\n      var date = new Date();\n      return date.getTime();\n    }\n\n    //==============================================================================\n    //==================================CONSTANTS===================================\n    //==============================================================================\n    // Test mode switcher\n    var TEST = false;\n\n    // Dimensions of the snake field\n    var HEIGHT = 20;\n    var WIDTH = 40;\n\n    // Amount of frames per second also defining the snake moving speed\n    var FPS = 15;\n\n    // The frame length parameter used to determine the pause between frames\n    var FRAME_LENGTH = 1000 / FPS;\n\n    // Enumerated values describing directions of the snake movement\n    var DIRECTION = {\n      LEFT: 0,\n      UP: 1,\n      RIGHT: 2,\n      DOWN: 3\n    };\n\n    //==============================================================================\n    //============================SNAKE CLASS DEFINITION============================\n    //==============================================================================\n    function Snake() {\n      // Array of coordinates of snake parts\n      this.parts = [];\n\n      // Size of the field in which the snake lives\n      this.homeWidth = WIDTH;\n      this.homeHeight = HEIGHT;\n\n      // Direction of the snake\n      this.direction = DIRECTION.RIGHT;\n\n      // Indicator of snake being stunned\n      this.stunned = false;\n\n      // ID of the last frame the snake was updated\n      this.frameId = 0;\n\n      // ID of the last frame the snake changed its directions\n      this.lastDirectionChangeFrameId = 0;\n\n      // Build the initial snake in the middle of its home\n      var midY = this.homeHeight / 2.0;\n      var midX = this.homeWidth / 2.0;\n      addPart(this, midY, midX + 2.0);\n      addPart(this, midY, midX + 1.0);\n      addPart(this, midY, midX);\n      addPart(this, midY, midX - 1.0);\n      addPart(this, midY, midX - 2.0);\n\n      // Add event listener for the snake movement\n      addMovementListener(this);\n    }\n\n    // Adds an event listener for the snake movement; the listener responds to the\n    // key presses and updates the snake direction accordingly, but not more often\n    // than once per frame.\n    function addMovementListener(snake) {\n      document.addEventListener(\"keydown\", function(e) {\n        var oldDirection = snake.direction;\n\n        if (snake.lastDirectionChangeFrameId < snake.frameId) {\n          switch (e.keyCode) {\n            case 37:\n              if (snake.direction !== DIRECTION.RIGHT) {\n                snake.direction = DIRECTION.LEFT;\n              }\n              break;\n            case 38:\n              if (snake.direction !== DIRECTION.DOWN) {\n                snake.direction = DIRECTION.UP;\n              }\n              break;\n            case 39:\n              if (snake.direction !== DIRECTION.LEFT) {\n                snake.direction = DIRECTION.RIGHT;\n              }\n              break;\n            case 40:\n              if (snake.direction !== DIRECTION.UP) {\n                snake.direction = DIRECTION.DOWN;\n              }\n              break;\n            default:\n              break;\n          }\n        }\n\n        if (oldDirection !== snake.direction) {\n          snake.lastDirectionChangeFrameId = snake.frameId;\n        }\n      });\n    }\n\n    // Add a new part with a given (y, x) location\n    function addPart(snake, y, x) {\n      snake.parts.push({\n        y: y,\n        x: x\n      });\n    }\n\n    function isAppleEatable(snake, apple) {\n      var parts = snake.getParts();\n      var head = parts[0];\n\n      return head.x === apple.x && head.y === apple.y;\n    }\n\n    function becomeStunned(snake) {\n      snake.stunned = true;\n    }\n\n    Snake.prototype.blockDirectionChange = function() {\n      this.lastDirectionChangeFrameId = this.frameId;\n    };\n\n    Snake.prototype.updateFrameId = function(frameId) {\n      this.frameId = frameId;\n    };\n\n    Snake.prototype.isStunned = function() {\n      return this.stunned;\n    };\n\n    Snake.prototype.eatApple = function(apple) {\n      var parts = this.getParts();\n      var tail = parts[parts.length - 1];\n\n      if (isAppleEatable(this, apple)) {\n        addPart(this, tail.y, tail.x);\n        return true;\n      }\n\n      return false;\n    };\n\n    Snake.prototype.getParts = function() {\n      return this.parts;\n    };\n\n    Snake.prototype.getDirection = function() {\n      return this.direction;\n    };\n\n    Snake.prototype.move = function() {\n      var parts = this.getParts();\n      var head = parts[0];\n      var partId;\n\n      for (partId = parts.length - 1; 0 < partId; --partId) {\n        parts[partId].x = parts[partId - 1].x;\n        parts[partId].y = parts[partId - 1].y;\n      }\n\n      // Update head\n      switch (this.getDirection()) {\n        case DIRECTION.LEFT:\n          head.x = (head.x - 1 + this.homeWidth) % this.homeWidth;\n          break;\n        case DIRECTION.UP:\n          head.y = (head.y - 1 + this.homeHeight) % this.homeHeight;\n          break;\n        case DIRECTION.RIGHT:\n          head.x = (head.x + 1 + this.homeWidth) % this.homeWidth;\n          break;\n        case DIRECTION.DOWN:\n          head.y = (head.y + 1 + this.homeHeight) % this.homeHeight;\n          break;\n        default:\n          break;\n      }\n\n      for (partId = 1; partId < parts.length; ++partId) {\n        if (head.x === parts[partId].x && head.y === parts[partId].y) {\n          becomeStunned(this);\n        }\n      }\n    };\n\n    // Draw the snake on a field\n    Snake.prototype.draw = function(field) {\n      var text = field.getText();\n\n      // Build a snake parts map\n      var snakeParts = this.getParts();\n\n      // If the old apple coordinate is negative then no apple has ever been spawned\n      if (field.oldSnakeTail.x < 0) {\n        // Full version of the method\n        var partsMap = {};\n\n        for (var partNum = 0; partNum < snakeParts.length; ++partNum) {\n          var part = snakeParts[partNum];\n\n          if (partsMap[part.y] === undefined) {\n            partsMap[part.y] = [part.x];\n          } else {\n            partsMap[part.y].push(part.x);\n          }\n        }\n\n        var partsMapKeys = Object.keys(partsMap);\n\n        for (var partsMapKeyNum = 0; partsMapKeyNum < partsMapKeys.length; ++partsMapKeyNum) {\n          // Corresponds to y coordinates of snake elements contained in a current line\n          var y = partsMapKeys[partsMapKeyNum];\n\n          // partsMapLines contains x coordinates of the snake elements\n          var partsMapLine = partsMap[y];\n\n          for (var charNum = 0; charNum < partsMapLine.length; ++charNum) {\n            var x = partsMapLine[charNum];\n\n            var partPosition = getTextPosition(field, y, x);\n            text = text.substr(0, partPosition) + \"@\" + text.substr(partPosition + 1);\n          }\n        }\n      } else {\n        if (\n          field.oldSnakeTail.x !== snakeParts[snakeParts.length - 1].x ||\n          field.oldSnakeTail.y !== snakeParts[snakeParts.length - 1].y\n        ) {\n          var oldTailPosition = getTextPosition(field, field.oldSnakeTail.y, field.oldSnakeTail.x);\n          text = text.substr(0, oldTailPosition) + \" \" + text.substr(oldTailPosition + 1);\n        }\n\n        var newHeadPosition = getTextPosition(field, snakeParts[0].y, snakeParts[0].x);\n        text = text.substr(0, newHeadPosition) + \"@\" + text.substr(newHeadPosition + 1);\n      }\n\n      // Save the new old snake tail coordinates\n      field.oldSnakeTail.y = snakeParts[snakeParts.length - 1].y;\n      field.oldSnakeTail.x = snakeParts[snakeParts.length - 1].x;\n\n      // TODO: use getters/setters to access the properties of field\n      field.text = text;\n    };\n\n    //==============================================================================\n    //============================FIELD CLASS DEFINITION============================\n    //==============================================================================\n    function Field() {\n      this.width = WIDTH;\n      this.height = HEIGHT;\n      this.text = \"\";\n      this.oldSnakeTail = {\n        x: -1,\n        y: -1\n      };\n\n      buildText(this);\n    }\n\n    Field.prototype.getWidth = function() {\n      return this.width;\n    };\n\n    Field.prototype.getHeight = function() {\n      return this.height;\n    };\n\n    Field.prototype.getText = function() {\n      return this.text;\n    };\n\n    function buildText(field) {\n      var i;\n      var horizontalBorder = \"\";\n\n      field.text = \"\";\n\n      for (i = 0; i < field.getWidth() + 2; ++i) {\n        horizontalBorder += \"#\";\n      }\n\n      field.text += horizontalBorder + \"\\n\";\n\n      var fieldLine = \"#\";\n\n      for (i = 0; i < field.getWidth(); ++i) {\n        fieldLine += \" \";\n      }\n\n      fieldLine += \"#\";\n\n      for (i = 0; i < field.getHeight(); ++i) {\n        field.text += fieldLine + \"\\n\";\n      }\n\n      field.text += horizontalBorder;\n    }\n\n    // Get text with snake and apple\n    Field.prototype.getFullText = function(snake, apple) {\n      // Draw the snake\n      snake.draw(this);\n\n      var text = this.text;\n\n      // Print the apple\n      var applePosition = getTextPosition(this, apple.y, apple.x);\n      text = text.substr(0, applePosition) + \"$\" + text.substr(applePosition + 1);\n\n      this.text = text;\n\n      return this.text;\n    };\n\n    function getTextPosition(field, y, x) {\n      return (field.getWidth() + 3) * (y * 1 + 1) + x * 1 + 1;\n    }\n\n    //==============================================================================\n    //=============================GAME CLASS DEFINITION============================\n    //==============================================================================\n    function Game() {\n      this.frameId = 0;\n      this.score = 0;\n      this.status = \"Press SPACE to start\";\n      this.frameHeader = \"\";\n      this.running = false;\n      this.gameOver = false;\n      this.field = new Field();\n      this.snake = new Snake();\n      this.apple = generateApple();\n      updateFrameHeader(this);\n    }\n\n    Game.prototype.incrementFrameId = function() {\n      ++this.frameId;\n      if (TEST) {\n        updateFrameHeader(this);\n      }\n    };\n\n    Game.prototype.getFrameId = function() {\n      return this.frameId;\n    };\n\n    Game.prototype.getScore = function() {\n      return this.score;\n    };\n\n    Game.prototype.setStatus = function(status) {\n      this.status = status;\n      updateFrameHeader(this);\n    };\n\n    Game.prototype.getStatus = function() {\n      return this.status;\n    };\n\n    Game.prototype.setRunning = function(running) {\n      this.running = running;\n    };\n\n    Game.prototype.isRunning = function() {\n      return this.running;\n    };\n\n    Game.prototype.setOver = function(gameOver) {\n      this.gameOver = gameOver;\n    };\n\n    Game.prototype.isOver = function() {\n      return this.gameOver;\n    };\n\n    Game.prototype.incrementScore = function() {\n      ++this.score;\n      updateFrameHeader(this);\n    };\n\n    Game.prototype.getField = function() {\n      return this.field;\n    };\n\n    Game.prototype.getSnake = function() {\n      return this.snake;\n    };\n\n    Game.prototype.getApple = function() {\n      return this.apple;\n    };\n\n    Game.prototype.dropApple = function() {\n      this.apple = generateApple();\n    };\n\n    function generateApple() {\n      return {\n        x: getRandomInt(0, WIDTH - 1),\n        y: getRandomInt(0, HEIGHT - 1)\n      };\n    }\n\n    function updateFrameHeader(game) {\n      var frameHeader = \"\";\n\n      frameHeader += \"Game by Daniil Belyakov\";\n\n      for (var j = 0; j < HEIGHT; ++j) {\n        frameHeader += \"\\n\";\n      }\n\n      if (TEST) {\n        frameHeader += \"Frame: \" + game.getFrameId();\n        frameHeader += \" | \";\n      }\n\n      frameHeader += \"Score: \" + game.getScore();\n      frameHeader += \" | \" + game.getStatus();\n\n      game.frameHeader = frameHeader;\n    }\n\n    function getFrameHeader(game) {\n      return game.frameHeader;\n    }\n\n    function printFrameHeader(game) {\n      var frameHeader = getFrameHeader(game);\n      console.log(frameHeader);\n    }\n\n    function drawField(game) {\n      var field = game.getField();\n      var snake = game.getSnake();\n      var apple = game.getApple();\n      var fieldText = field.getFullText(snake, apple);\n      console.log(fieldText);\n    }\n\n    Game.prototype.draw = function() {\n      printFrameHeader(this);\n\n      drawField(this);\n    };\n\n    //==============================================================================\n    //=====================================GAME=====================================\n    //==============================================================================\n    var game = new Game();\n    var timerId = 0;\n    var oldTime, newTime;\n    oldTime = getUnixTimeMs();\n\n    function reset() {\n      game = new Game();\n      timerId = 0;\n      oldTime = 0;\n      newTime = 0;\n    }\n\n    function tick() {\n      var snake = game.getSnake();\n      var apple = game.getApple();\n\n      newTime = getUnixTimeMs();\n\n      if (newTime - oldTime >= FRAME_LENGTH) {\n        // Move the snake and eat the apple\n        snake.move();\n        if (snake.eatApple(apple)) {\n          game.incrementScore();\n          game.dropApple();\n        }\n\n        if (snake.isStunned()) {\n          game.setStatus(\"Game Over! | Press ENTER to reset\");\n          game.setRunning(false);\n          game.setOver(true);\n          // Draw the frame\n          game.draw();\n          stop();\n        } else {\n          // Draw the frame\n          game.draw();\n\n          // Increase the frame counter\n          game.incrementFrameId();\n          var frameId = game.getFrameId();\n          snake.updateFrameId(frameId);\n          if (frameId % 200 === 0) {\n            // Clear the console every N frames\n            console.clear();\n            game.draw();\n          }\n        }\n\n        oldTime = getUnixTimeMs();\n      }\n\n      if (game.isRunning()) {\n        timerId = requestAnimationFrame(tick);\n      } else {\n        cancelAnimationFrame(timerId);\n      }\n    }\n\n    function stop() {\n      cancelAnimationFrame(timerId);\n      game.setRunning(false);\n    }\n\n    function run() {\n      timerId = requestAnimationFrame(tick);\n      game.setStatus(\"Running | Press SPACE to pause\");\n      game.setRunning(true);\n    }\n\n    game.draw();\n\n    document.addEventListener(\"keydown\", function(e) {\n      switch (e.keyCode) {\n        case 13:\n          if (game.isOver()) {\n            reset();\n            game.draw();\n          }\n          break;\n        case 32:\n          if (!game.isOver()) {\n            if (game.isRunning()) {\n              var snake = game.getSnake();\n              snake.blockDirectionChange();\n              game.setStatus(\"Paused | Press SPACE to continue\");\n              game.draw();\n              stop();\n            } else {\n              run();\n            }\n          }\n          break;\n        default:\n          break;\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as Hammer from 'hammerjs';\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class FloatingMicrophoneService {\n  constructor() {}\n\n  // if it doesn't work right, remove touch events and uncomment prevent default\n  makeFloatingMicrophone(speechComponent) {\n    var elem = document.getElementById(\"floatingMicrophone\");\n    var moveFlag = false;\n    var speech = speechComponent;\n    var pos1 = 0,\n      pos2 = 0,\n      pos3 = 0,\n      pos4 = 0;\n    elem.style.top = window.innerHeight - 75 + \"px\";\n    elem.style.left = window.innerWidth - 75 + \"px\";\n    if (elem) {\n      elem.onmousedown = dragMouseDown;\n    }\n    if (\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\n    ) {\n      this.touchInputsListeners();\n    }\n\n    function toggleMic() {\n      if (elem.classList.contains(\"notRecording\")) {\n        elem.classList.remove(\"notRecording\");\n        elem.classList.add(\"recording\");\n        speech.start();\n      } else {\n        elem.classList.remove(\"recording\");\n        elem.classList.add(\"notRecording\");\n        speech.stop();\n      }\n    }\n\n    function dragMouseDown(e) {\n      moveFlag = false;\n      e = e || window.event;\n      e.preventDefault();\n      // get the mouse cursor position at startup:\n      pos3 = e.clientX;\n      pos4 = e.clientY;\n      document.onmouseup = closeDragElement;\n\n      // call a function whenever the cursor moves:\n      document.onmousemove = elementDrag;\n    }\n\n    function elementDrag(e) {\n      moveFlag = true;\n      e = e || window.event;\n      e.preventDefault();\n      // calculate the new cursor position:\n      pos1 = pos3 - e.clientX;\n      pos2 = pos4 - e.clientY;\n      pos3 = e.clientX;\n      pos4 = e.clientY;\n      // set the element's new position:\n      elem.style.top = elem.offsetTop - pos2 + \"px\";\n      elem.style.left = elem.offsetLeft - pos1 + \"px\";\n    }\n\n    function closeDragElement() {\n      /* stop moving when mouse button is released:*/\n      document.onmouseup = null;\n      document.onmousemove = null;\n\n      if (moveFlag == false) {\n        toggleMic();\n      }\n    }\n  }\n\n  touchInputsListeners() {\n    var elem = document.getElementById(\"floatingMicrophone\");\n\n    var mc = new Hammer(elem);\n    mc.add(new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 0 }));\n    mc.on(\"pan\", handleDrag);\n\n    // drag event\n    var lastPosX = 0;\n    var lastPosY = 0;\n    var isDragging = false;\n    function handleDrag(ev) {\n      if (!isDragging) {\n        isDragging = true;\n        lastPosX = elem.offsetLeft;\n        lastPosY = elem.offsetTop;\n      }\n      var posX = ev.deltaX + lastPosX;\n      var posY = ev.deltaY + lastPosY;\n      elem.style.left = posX + \"px\";\n      elem.style.top = posY + \"px\";\n      if (ev.isFinal) {\n        isDragging = false;\n      }\n    }\n  }\n}\n","import { Component, HostListener, Input, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { SpeechService } from 'ngx-speech';\nimport { EMPTY, Subject } from 'rxjs';\nimport { catchError, map, take, takeUntil } from 'rxjs/operators';\n\nimport { ApiService } from '../../shared/api/api.service';\nimport { SnakeService } from '../../shared/easterEgg/snake.service';\nimport { FloatingMicrophoneService } from '../../shared/services/floating-microphone.service';\n\n@Component({\n  selector: \"app-collection-of-multimedia-albums\",\n  templateUrl: \"./collection-of-multimedia-albums.component.html\",\n  styleUrls: [\"./collection-of-multimedia-albums.component.scss\"]\n})\nexport class CollectionOfMultimediaAlbumsComponent implements OnInit, OnDestroy {\n  /**\n   * Specific options will override batch options from json object\n   */\n  @Input()\n  gridSize: number; // number of albums displayed on a row\n\n  @Input()\n  gridSizeSuggestions: number; // number of albums displayed on a row\n\n  @Input()\n  userId: string;\n\n  @Input()\n  collectionUrl: string; // api call to retrieve the albums in the collection it can be used for both local and remote resources like a local json or from a server\n\n  @Input()\n  suggestedCollectionUrl: string; // api call to retrieve the albums in the collection\n\n  @Input()\n  deleteCollectionUrl: string; // api call to delete the albums in the collection\n\n  @Input()\n  addCollectionUrl: string;\n\n  @Input()\n  skip: number;\n\n  @Input()\n  take: number;\n\n  @Input()\n  albumUrl: string; // api call to retrieve the albums in the Album it can be used for both local and remote resources like a local json or from a server\n\n  @Input()\n  suggestedEntityUrl: string; // api call to retrieve the Entities in the Entity\n\n  @Input()\n  deleteEntityUrl: string; // api call to delete the Entities in the Entity\n\n  @Input()\n  addEntitiesUrl: string;\n\n  @Input()\n  getEntityUrl: string;\n\n  @Input()\n  slideShow: boolean;\n\n  @Input()\n  lockSlideShow: boolean;\n\n  @Input()\n  slideShowTimeBeforeNext: number;\n\n  @Input()\n  configPath: string;\n\n  // used to redirect to the album\n  //placeholders for the images of the album(in 3d mode or image in 2d)\n  @Input()\n  bootstrapAccentPrimary: string;\n\n  @Input()\n  bootstrapAccentSecondary: string;\n\n  _collectionData;\n  _suggestedCollectionData;\n  _searchText;\n  _toggleView;\n\n  _mostUsedKeywords;\n  _loadedFirstTime = false;\n  _noMoreData = false;\n  _deleteAccent;\n  _markedForDeletion;\n  _addNewCollectionForm;\n  _modalDeleteConfirmation = \"\";\n  _scrollAmount;\n\n  private _destroyed = new Subject<void>();\n  constructor(\n    public api: ApiService,\n    private formBuilder: FormBuilder,\n    public speech: SpeechService,\n    public snake: SnakeService,\n    public router: Router,\n    private floatingMicrophone: FloatingMicrophoneService\n  ) {}\n\n  ngOnInit() {\n    this._addNewCollectionForm = this.formBuilder.group({\n      collectionName: [\"\", Validators.required],\n      collectionType: [\"\", Validators.required],\n      keywords: [\"\", Validators.required]\n    });\n    this.loadInputOptionsOrDefault();\n    this.speechActions();\n    this.floatingMicrophone.makeFloatingMicrophone(this.speech);\n  }\n\n  ngOnDestroy(): void {\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n\n  speechActions() {\n    this.speech.message\n      .pipe(\n        catchError((err) => {\n          this.toggleMic();\n          return EMPTY;\n        }),\n        takeUntil(this._destroyed)\n      )\n      .subscribe((msg) => {\n        console.log(msg);\n        if (msg.message == \"delete\") {\n          document.getElementById(\"deleteCollectionButton\").click();\n        }\n        if (msg.message == \"add\") {\n          document.getElementById(\"addCollectionButton\").click();\n        }\n        if (\n          msg.message == \"suggestions\" ||\n          msg.message == \"tip\" ||\n          msg.message == \"recommendations\"\n        ) {\n          document.getElementById(\"suggestionsCollectionButton\").click();\n        }\n        if (msg.message == \"snake\") {\n          this.snake.snake();\n        }\n        this.toggleMic();\n      });\n  }\n\n  toggleMic() {\n    var elem = document.getElementById(\"floatingMicrophone\");\n    if (elem.classList.contains(\"notRecording\")) {\n      elem.classList.remove(\"notRecording\");\n      elem.classList.add(\"recording\");\n      this.speech.start();\n    } else {\n      elem.classList.remove(\"recording\");\n      elem.classList.add(\"notRecording\");\n      this.speech.stop();\n    }\n  }\n\n  getCollections() {\n    this.api\n      .getData(\n        this.collectionUrl\n          .replace(\"/$userId\", `/${this.userId}`)\n          .replace(\"/$take\", `/${this.take}`)\n          .replace(\"/$skip\", `/${this.skip}`)\n      )\n      .pipe(take(1))\n      .subscribe((data) => {\n        if (typeof this._collectionData == \"undefined\") {\n          this._collectionData = [];\n        }\n        data[\"collection\"].forEach((collection) => {\n          console.log(collection);\n          console.log(collection[\"placeholder\"].length);\n\n          if (collection[\"placeholder\"].length == 0) {\n            collection[\"placeholder\"] = [\n              {\n                data: \"../../../assets/new-collection.jpg\"\n              }\n            ];\n          }\n        });\n        if (data[\"collection\"].length != 0) {\n          console.log(this._collectionData);\n          this._collectionData = [...this._collectionData, ...data[\"collection\"]];\n          this.skip += this.take;\n          var str = \"\";\n          this._collectionData.forEach((collection) => {\n            str += \",\" + collection[\"keywords\"];\n          });\n          this._mostUsedKeywords = this.mostUsedKeywords(str);\n          console.log(typeof this.suggestedCollectionUrl);\n          if (typeof this.suggestedCollectionUrl != \"undefined\") {\n            console.log(typeof this.suggestedCollectionUrl);\n\n            this.getSuggestedCollections();\n          }\n          this._loadedFirstTime = true;\n        } else {\n          this._noMoreData = true;\n        }\n      });\n  }\n\n  mostUsedKeywords(str) {\n    var wordCounts = {};\n    var words = str.split(\",\");\n    for (var i = 0; i < words.length; i++) {\n      wordCounts[\"_\" + words[i]] = (wordCounts[\"_\" + words[i]] || 0) + 1;\n    }\n    delete wordCounts[\"_\"];\n    var wordsList = \"\";\n    wordCounts = JSON.parse(JSON.stringify(wordCounts).replace(/_/g, \"\"));\n    for (var k in wordCounts) {\n      wordsList += \",\" + k;\n    }\n    wordsList = wordsList.replace(\",\", \"\");\n    console.log(wordsList);\n    return wordsList;\n  }\n\n  getSuggestedCollections() {\n    //for suggestions we skip 0 since we want only the best suggestions\n    this.api\n      .getData(\n        this.suggestedCollectionUrl\n          .replace(\"/$userId\", `/${this.userId}`)\n          .replace(\"/$take\", `/${this.take}`)\n          .replace(\"/$skip\", `/0`) + `/${this._mostUsedKeywords}`\n      )\n      .pipe(take(1))\n      .subscribe((data: Array<{}>) => {\n        data.forEach((collection) => {\n          console.log(collection);\n          console.log(collection[\"placeholder\"].length);\n\n          if (collection[\"placeholder\"].length == 0) {\n            collection[\"placeholder\"] = [\n              {\n                data: \"../../../assets/new-collection.jpg\"\n              }\n            ];\n          }\n        });\n        this._suggestedCollectionData = data;\n      });\n  }\n\n  @HostListener(\"window:scroll\")\n  onWindowScroll() {\n    //In chrome and some browser scroll is given to body tag\n    let pos =\n      (document.documentElement.scrollTop || document.body.scrollTop) +\n      document.documentElement.offsetHeight;\n    let max = document.documentElement.scrollHeight;\n    console.log(pos);\n    console.log(max);\n    if (typeof this._scrollAmount == \"undefined\") {\n      this._scrollAmount = pos;\n    } else {\n      // move the floating microphone at the same time with the screen\n      var elem = document.getElementById(\"floatingMicrophone\");\n      elem.style.top = parseFloat(elem.style.top) + (pos - this._scrollAmount) + \"px\";\n      this._scrollAmount = pos;\n    }\n\n    // pos/max will give you the distance between scroll bottom and and bottom of screen in percentage.\n    if (\n      pos == max ||\n      Math.ceil(pos) == Math.ceil(max) ||\n      Math.floor(pos) == Math.floor(max) ||\n      Math.floor(pos) == Math.ceil(max) ||\n      Math.ceil(pos) == Math.floor(max)\n    ) {\n      if (this._loadedFirstTime) {\n        this.getCollections();\n      }\n    }\n  }\n\n  loadCollectionsUntilScrollbarAppears() {\n    this.getCollections();\n    let max = document.documentElement.scrollHeight;\n    var interval = setInterval(() => {\n      if (this._loadedFirstTime == true) {\n        if (max < document.documentElement.scrollHeight || this._noMoreData == true) {\n          clearInterval(interval);\n        } else {\n          this.getCollections();\n        }\n      }\n    }, 1000);\n  }\n\n  toggleDeleteButton() {\n    if (this._deleteAccent == this.bootstrapAccentPrimary) {\n      this._deleteAccent = this.bootstrapAccentSecondary;\n      this._modalDeleteConfirmation = \"#deleteConfirmationModal\";\n    } else {\n      this._deleteAccent = this.bootstrapAccentPrimary;\n      this._modalDeleteConfirmation = \"\";\n    }\n  }\n\n  accessOrDelete(collection) {\n    // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!  here put redirect on click\n    if (this._deleteAccent == this.bootstrapAccentSecondary) {\n      console.log(collection);\n      this._markedForDeletion = collection;\n    } else {\n      console.log(collection);\n      this.router.navigate([`/${collection.id}`]);\n    }\n  }\n\n  accessRecommendedCollection(collection) {\n    this.router.navigate([`/${collection.id}`]);\n  }\n\n  deleteCollection() {\n    this.api\n      .deleteData(\n        this.deleteCollectionUrl.replace(\"/$collectionId\", `/${this._markedForDeletion[\"id\"]}`)\n      )\n      .pipe(take(1))\n      .subscribe((data) => {});\n    this._collectionData = this._collectionData.filter((item) => item != this._markedForDeletion);\n  }\n\n  addCollection() {\n    console.log(this._addNewCollectionForm);\n    // let headers = new HttpHeaders();\n    // headers.append(\"Content-Type\", \"application/json\");\n    this.api\n      .postData(this.addCollectionUrl, {\n        Name: `${this._addNewCollectionForm.value.collectionName}`,\n        Type: this._addNewCollectionForm.value.collectionType,\n        Keywords: `${this._addNewCollectionForm.value.keywords}`,\n        UserId: `${this.userId}`\n      })\n      .pipe(take(1))\n      .subscribe((data) => {\n        console.log(data);\n        data[\"placeholder\"] = [\n          {\n            data: \"../../../assets/new-collection.jpg\"\n          }\n        ];\n        this._collectionData = [...this._collectionData, data];\n      });\n  }\n\n  loadInputOptionsOrDefault() {\n    if (typeof this.configPath != \"undefined\") {\n      this.api\n        .getData(this.configPath)\n        .pipe(\n          catchError((err) => {\n            this.loadDefault();\n            if (typeof this.collectionUrl != \"undefined\") {\n              this.loadCollectionsUntilScrollbarAppears();\n              this.onWindowScroll();\n            }\n            return EMPTY;\n          }),\n          take(1),\n          map((data) => {\n            console.log(\"here\");\n            return data;\n          })\n        )\n        .subscribe((config) => {\n          if (typeof config[\"userId\"] != \"undefined\" && typeof this.userId == \"undefined\") {\n            this.userId = config[\"userId\"];\n          }\n\n          if (typeof config[\"gridSize\"] != \"undefined\" && typeof this.gridSize == \"undefined\") {\n            this.gridSize = config[\"gridSize\"];\n          }\n          if (\n            typeof config[\"gridSizeSuggestions\"] != \"undefined\" &&\n            typeof this.gridSizeSuggestions == \"undefined\"\n          ) {\n            this.gridSizeSuggestions = config[\"gridSizeSuggestions\"];\n          }\n          if (\n            typeof config[\"collectionUrl\"] != \"undefined\" &&\n            typeof this.collectionUrl == \"undefined\"\n          ) {\n            this.collectionUrl = config[\"collectionUrl\"];\n          }\n          if (\n            typeof config[\"suggestedCollectionUrl\"] != \"undefined\" &&\n            typeof this.suggestedCollectionUrl == \"undefined\"\n          ) {\n            this.suggestedCollectionUrl = config[\"suggestedCollectionUrl\"];\n          }\n          if (\n            typeof config[\"deleteCollectionUrl\"] != \"undefined\" &&\n            typeof this.deleteCollectionUrl == \"undefined\"\n          ) {\n            this.deleteCollectionUrl = config[\"deleteCollectionUrl\"];\n          }\n          if (\n            typeof config[\"addCollectionUrl\"] != \"undefined\" &&\n            typeof this.addCollectionUrl == \"undefined\"\n          ) {\n            this.addCollectionUrl = config[\"addCollectionUrl\"];\n          }\n          if (typeof config[\"skip\"] != \"undefined\" && typeof this.skip == \"undefined\") {\n            this.skip = config[\"skip\"];\n          }\n          if (typeof config[\"take\"] != \"undefined\" && typeof this.take == \"undefined\") {\n            this.take = config[\"take\"];\n          }\n          if (\n            typeof config[\"bootstrapAccentPrimary\"] != \"undefined\" &&\n            typeof this.bootstrapAccentPrimary == \"undefined\"\n          ) {\n            this.bootstrapAccentPrimary = config[\"bootstrapAccentPrimary\"];\n          }\n          if (\n            typeof config[\"bootstrapAccentSecondary\"] != \"undefined\" &&\n            typeof this.bootstrapAccentSecondary == \"undefined\"\n          ) {\n            this.bootstrapAccentSecondary = config[\"bootstrapAccentSecondary\"];\n          }\n          if (typeof config[\"albumUrl\"] != \"undefined\" && typeof this.albumUrl == \"undefined\") {\n            this.albumUrl = config[\"albumUrl\"];\n          }\n          if (\n            typeof config[\"suggestedEntityUrl\"] != \"undefined\" &&\n            typeof this.suggestedEntityUrl == \"undefined\"\n          ) {\n            this.suggestedEntityUrl = config[\"suggestedEntityUrl\"];\n          }\n          if (\n            typeof config[\"deleteEntityUrl\"] != \"undefined\" &&\n            typeof this.deleteEntityUrl == \"undefined\"\n          ) {\n            this.deleteEntityUrl = config[\"deleteEntityUrl\"];\n          }\n          if (\n            typeof config[\"addEntitiesUrl\"] != \"undefined\" &&\n            typeof this.addEntitiesUrl == \"undefined\"\n          ) {\n            this.addEntitiesUrl = config[\"addEntitiesUrl\"];\n          }\n          if (\n            typeof config[\"getEntityUrl\"] != \"undefined\" &&\n            typeof this.getEntityUrl == \"undefined\"\n          ) {\n            this.getEntityUrl = config[\"getEntityUrl\"];\n          }\n          if (typeof config[\"slideShow\"] != \"undefined\" && typeof this.slideShow == \"undefined\") {\n            this.slideShow = config[\"slideShow\"];\n          }\n          if (\n            typeof config[\"lockSlideShow\"] != \"undefined\" &&\n            typeof this.lockSlideShow == \"undefined\"\n          ) {\n            this.lockSlideShow = config[\"lockSlideShow\"];\n          }\n          if (\n            typeof config[\"slideShowTimeBeforeNext\"] != \"undefined\" &&\n            typeof this.slideShowTimeBeforeNext == \"undefined\"\n          ) {\n            this.slideShowTimeBeforeNext = config[\"slideShowTimeBeforeNext\"];\n          }\n          this.loadDefault();\n          if (typeof this.collectionUrl != \"undefined\") {\n            this.loadCollectionsUntilScrollbarAppears();\n            this.onWindowScroll();\n          }\n        });\n    } else {\n      this.loadDefault();\n      if (typeof this.collectionUrl != \"undefined\") {\n        this.loadCollectionsUntilScrollbarAppears();\n        this.onWindowScroll();\n      }\n    }\n  }\n\n  loadDefault() {\n    if (typeof this.userId == \"undefined\") {\n      this.userId = \"00000000-0000-0000-0000-000000000000\";\n    }\n    if (typeof this.gridSize == \"undefined\") {\n      this.gridSize = 10;\n    }\n    if (typeof this.gridSizeSuggestions == \"undefined\") {\n      this.gridSizeSuggestions = 3;\n    }\n    if (typeof this.collectionUrl == \"undefined\") {\n      this.collectionUrl = \"\";\n    }\n    if (typeof this.suggestedCollectionUrl == \"undefined\") {\n      this.suggestedCollectionUrl = \"\";\n    }\n    if (typeof this.deleteCollectionUrl == \"undefined\") {\n      this.deleteCollectionUrl = \"\";\n    }\n    if (typeof this.addCollectionUrl == \"undefined\") {\n      this.addCollectionUrl = \"\";\n    }\n    if (typeof this.skip == \"undefined\") {\n      this.skip = 0;\n    }\n    if (typeof this.take == \"undefined\") {\n      this.take = 10;\n    }\n    if (typeof this.bootstrapAccentPrimary == \"undefined\") {\n      this.bootstrapAccentPrimary = \"danger\";\n    }\n    if (typeof this.bootstrapAccentSecondary == \"undefined\") {\n      this.bootstrapAccentSecondary = \"dark\";\n    }\n    if (typeof this.albumUrl == \"undefined\") {\n      this.albumUrl = \"\";\n    }\n    if (typeof this.suggestedEntityUrl == \"undefined\") {\n      this.suggestedEntityUrl = \"\";\n    }\n    if (typeof this.deleteEntityUrl == \"undefined\") {\n      this.deleteEntityUrl = \"\";\n    }\n    if (typeof this.addEntitiesUrl == \"undefined\") {\n      this.addEntitiesUrl = \"\";\n    }\n    if (typeof this.getEntityUrl == \"undefined\") {\n      this.getEntityUrl = \"\";\n    }\n    if (typeof this.slideShow == \"undefined\") {\n      this.slideShow = false;\n    }\n    if (typeof this.lockSlideShow == \"undefined\") {\n      this.lockSlideShow = false;\n    }\n    if (typeof this.slideShowTimeBeforeNext == \"undefined\") {\n      this.slideShowTimeBeforeNext = 5000;\n    }\n\n    var albumInputs = {\n      gridSize: this.gridSize,\n      gridSizeSuggestions: this.gridSizeSuggestions,\n      skip: this.skip,\n      take: this.take,\n      bootstrapAccentPrimary: this.bootstrapAccentPrimary,\n      bootstrapAccentSecondary: this.bootstrapAccentSecondary,\n      albumUrl: this.albumUrl,\n      suggestedEntityUrl: this.suggestedEntityUrl,\n      deleteEntityUrl: this.deleteEntityUrl,\n      addEntitiesUrl: this.addEntitiesUrl,\n      getEntityUrl: this.getEntityUrl,\n      lockSlideShow: this.lockSlideShow,\n      slideShow: this.slideShow,\n      slideShowTimeBeforeNext: this.slideShowTimeBeforeNext\n    };\n    sessionStorage.setItem(\"albumInputs\", JSON.stringify(albumInputs));\n\n    this._deleteAccent = this.bootstrapAccentPrimary;\n  }\n}\n","import { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { SpeechService } from 'ngx-speech';\nimport { EMPTY, Subject } from 'rxjs';\nimport { catchError, take, takeUntil } from 'rxjs/operators';\n\nimport { ApiService } from '../../shared/api/api.service';\nimport { SnakeService } from '../../shared/easterEgg/snake.service';\nimport { FloatingMicrophoneService } from '../../shared/services/floating-microphone.service';\n\n@Component({\n  selector: \"app-multimedia-album\",\n  templateUrl: \"./multimedia-album.component.html\",\n  styleUrls: [\"./multimedia-album.component.scss\"]\n})\nexport class MultimediaAlbumComponent implements OnInit, OnDestroy {\n  collectionId;\n  gridSize;\n  gridSizeSuggestions;\n  skip;\n  take;\n  albumUrl;\n  suggestedEntityUrl;\n  deleteEntityUrl;\n  addEntitiesUrl;\n  getEntityUrl;\n  bootstrapAccentPrimary;\n  bootstrapAccentSecondary;\n  slideShow;\n  lockSlideShow;\n  slideShowTimeBeforeNext;\n\n  _albumData;\n  _searchText;\n  _mostUsedKeywords;\n  _loadedFirstTime = false;\n  _noMoreData = false;\n  _deleteAccent;\n  _markedForDeletion;\n  _modalDeleteConfirmation = \"\";\n  _scrollAmount;\n  _suggestedEntities;\n  _loadedEntity;\n  _showEntityModal;\n  _slideIndex = 1;\n  _showSuggestedEntityModal = 0;\n  _suggestedSlideIndex = 1;\n  private _destroyed = new Subject<void>();\n  constructor(\n    public api: ApiService,\n    public speech: SpeechService,\n    public snake: SnakeService,\n    public router: Router,\n    private route: ActivatedRoute,\n    private floatingMicrophone: FloatingMicrophoneService\n  ) {}\n\n  ngOnInit() {\n    this.route.params.subscribe((params) => {\n      this.collectionId = params[\"id\"];\n    });\n    this.loadInputOptions();\n    this.speechActions();\n    this.floatingMicrophone.makeFloatingMicrophone(this.speech);\n    this.lockSlideShow;\n    if (this.slideShow) {\n      this._showEntityModal = 1;\n    } else {\n      this._showEntityModal = 0;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._destroyed.next();\n    this._destroyed.complete();\n  }\n\n  //to modify actions\n  speechActions() {\n    this.speech.message\n      .pipe(\n        catchError((err) => {\n          this.toggleMic();\n          return EMPTY;\n        }),\n        takeUntil(this._destroyed)\n      )\n      .subscribe((msg) => {\n        console.log(msg);\n        if (msg.message == \"delete\") {\n          document.getElementById(\"deleteEntityButton\").click();\n        }\n        if (msg.message == \"add\") {\n          document.getElementById(\"addEntityButton\").click();\n        }\n        if (\n          msg.message == \"suggestions\" ||\n          msg.message == \"tip\" ||\n          msg.message == \"recommendations\"\n        ) {\n          document.getElementById(\"suggestionsEntityButton\").click();\n        }\n        if (msg.message == \"snake\") {\n          this.snake.snake();\n        }\n        this.toggleMic();\n      });\n  }\n\n  toggleMic() {\n    var elem = document.getElementById(\"floatingMicrophone\");\n    if (elem.classList.contains(\"notRecording\")) {\n      elem.classList.remove(\"notRecording\");\n      elem.classList.add(\"recording\");\n      this.speech.start();\n    } else {\n      elem.classList.remove(\"recording\");\n      elem.classList.add(\"notRecording\");\n      this.speech.stop();\n    }\n  }\n\n  //delete and add is missing\n\n  getAlbum() {\n    this.api\n      .getData(\n        this.albumUrl\n          .replace(\"/$collectionId\", `/${this.collectionId}`)\n          .replace(\"/$take\", `/${this.take}`)\n          .replace(\"/$skip\", `/${this.skip}`)\n      )\n      .pipe(take(1))\n      .subscribe((data) => {\n        if (typeof this._albumData == \"undefined\") {\n          this._albumData = [];\n        }\n        if (data[\"placeholder\"].length != 0) {\n          console.log(this._albumData);\n          this._albumData = [...this._albumData, ...data[\"placeholder\"]];\n          this.skip += this.take;\n          var str = \"\";\n          this._albumData.forEach((placeholder) => {\n            str += \",\" + placeholder[\"keywords\"];\n          });\n          this._mostUsedKeywords = this.mostUsedKeywords(str);\n          console.log(typeof this.suggestedEntityUrl);\n          if (typeof this.suggestedEntityUrl != \"undefined\") {\n            console.log(typeof this.suggestedEntityUrl);\n\n            this.getSuggestedEntities();\n          }\n          this._loadedFirstTime = true;\n        } else {\n          this._noMoreData = true;\n        }\n      });\n  }\n\n  mostUsedKeywords(str) {\n    var wordCounts = {};\n    var words = str.split(\",\");\n    for (var i = 0; i < words.length; i++) {\n      wordCounts[\"_\" + words[i]] = (wordCounts[\"_\" + words[i]] || 0) + 1;\n    }\n    delete wordCounts[\"_\"];\n    var wordsList = \"\";\n    wordCounts = JSON.parse(JSON.stringify(wordCounts).replace(/_/g, \"\"));\n    for (var k in wordCounts) {\n      wordsList += \",\" + k;\n    }\n    wordsList = wordsList.replace(\",\", \"\");\n    wordsList = wordsList.replace(/,null/g, \"\");\n    console.log(wordsList);\n    return wordsList;\n  }\n\n  getSuggestedEntities() {\n    //for suggestions we skip 0 since we want only the best suggestions\n    //we use collection id to skip those from the search results since we already have them\n    this.api\n      .getData(\n        this.suggestedEntityUrl\n          .replace(\"/$collectionId\", `/${this.collectionId}`)\n          .replace(\"/$take\", `/${this.take}`)\n          .replace(\"/$skip\", `/0`) + `/${this._mostUsedKeywords}`\n      )\n      .pipe(take(1))\n      .subscribe((data: Array<{}>) => {\n        this._suggestedEntities = data;\n        console.log(data);\n      });\n  }\n\n  @HostListener(\"window:scroll\")\n  onWindowScroll() {\n    //In chrome and some browser scroll is given to body tag\n    let pos =\n      (document.documentElement.scrollTop || document.body.scrollTop) +\n      document.documentElement.offsetHeight;\n    let max = document.documentElement.scrollHeight;\n    console.log(pos);\n    console.log(max);\n    if (typeof this._scrollAmount == \"undefined\") {\n      this._scrollAmount = pos;\n    } else {\n      // move the floating microphone at the same time with the screen\n      var elem = document.getElementById(\"floatingMicrophone\");\n      elem.style.top = parseFloat(elem.style.top) + (pos - this._scrollAmount) + \"px\";\n      this._scrollAmount = pos;\n    }\n\n    // pos/max will give you the distance between scroll bottom and and bottom of screen in percentage.\n    if (\n      pos == max ||\n      Math.ceil(pos) == Math.ceil(max) ||\n      Math.floor(pos) == Math.floor(max) ||\n      Math.floor(pos) == Math.ceil(max) ||\n      Math.ceil(pos) == Math.floor(max)\n    ) {\n      if (this._loadedFirstTime) {\n        this.getAlbum();\n      }\n    }\n  }\n\n  accessOrDelete(placeholder, i) {\n    if (this._deleteAccent == this.bootstrapAccentSecondary) {\n      this._markedForDeletion = placeholder;\n      console.log(this._markedForDeletion);\n      console.log(placeholder);\n    } else {\n      this._showEntityModal = 1;\n      this._slideIndex = i;\n    }\n  }\n  noEntityModal(event) {\n    console.log(event);\n    this._showEntityModal = event;\n  }\n\n  accessSuggested(i) {\n    this._showSuggestedEntityModal = 1;\n    this._suggestedSlideIndex = i;\n  }\n\n  noSuggestedEntityModal(event) {\n    console.log(event);\n    this._showSuggestedEntityModal = event;\n  }\n\n  deleteEntity() {\n    this.api\n      .deleteData(this.deleteEntityUrl.replace(\"/$entityId\", `/${this._markedForDeletion[\"id\"]}`))\n      .pipe(take(1))\n      .subscribe((data) => {});\n    this._albumData = this._albumData.filter((item) => item != this._markedForDeletion);\n  }\n\n  loadEntitiesUntilScrollbarAppears() {\n    this.getAlbum();\n    let max = document.documentElement.scrollHeight;\n    var interval = setInterval(() => {\n      if (this._loadedFirstTime == true) {\n        if (max < document.documentElement.scrollHeight || this._noMoreData == true) {\n          clearInterval(interval);\n        } else {\n          this.getAlbum();\n        }\n      }\n    }, 1000);\n  }\n\n  loadMore(event) {\n    this.getAlbum();\n  }\n\n  addNewData(event) {\n    console.log(this._albumData);\n\n    this._albumData = [...this._albumData, ...event];\n    console.log(this._albumData);\n\n    this._upload = false;\n  }\n\n  _upload = false;\n  upload() {\n    this._upload = true;\n  }\n\n  _cancel = false;\n  cancel() {\n    this._cancel = true;\n  }\n\n  discardedData(event) {\n    this._cancel = event;\n  }\n\n  toggleDeleteButton() {\n    if (this._deleteAccent == this.bootstrapAccentPrimary) {\n      this._deleteAccent = this.bootstrapAccentSecondary;\n      this._modalDeleteConfirmation = \"#deleteConfirmationModal\";\n    } else {\n      this._deleteAccent = this.bootstrapAccentPrimary;\n      this._modalDeleteConfirmation = \"\";\n    }\n  }\n\n  loadInputOptions() {\n    if (typeof sessionStorage.getItem(\"albumInputs\") == \"undefined\") {\n      var albumInputOptions = JSON.parse(sessionStorage.getItem(\"albumInputs\"));\n      this.gridSize = albumInputOptions.gridSize;\n      this.gridSizeSuggestions = albumInputOptions.gridSizeSuggestions;\n      this.skip = albumInputOptions.skip;\n      this.take = albumInputOptions.take;\n      this.albumUrl = albumInputOptions.albumUrl;\n      this.suggestedEntityUrl = albumInputOptions.suggestedEntityUrl;\n      this.deleteEntityUrl = albumInputOptions.deleteEntityUrl;\n      this.addEntitiesUrl = albumInputOptions.addEntitiesUrl;\n      this.getEntityUrl = albumInputOptions.getEntityUrl;\n      this.lockSlideShow = albumInputOptions.lockSlideShow;\n      this.slideShow = albumInputOptions.slideShow;\n      this.slideShowTimeBeforeNext = albumInputOptions.slideShowTimeBeforeNext;\n      this.bootstrapAccentPrimary = albumInputOptions.bootstrapAccentPrimary;\n      this.bootstrapAccentSecondary = albumInputOptions.bootstrapAccentSecondary;\n      this._deleteAccent = this.bootstrapAccentPrimary;\n\n      if (typeof this.albumUrl != \"undefined\") {\n        this.loadEntitiesUntilScrollbarAppears();\n        this.onWindowScroll();\n      }\n    } else {\n      setTimeout(this.loadInputOptions, 2000);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport {\r\n  CollectionOfMultimediaAlbumsComponent,\r\n} from '../features/collection-of-multimedia-albums/collection-of-multimedia-albums.component';\r\nimport { MultimediaAlbumComponent } from './../features/multimedia-album/multimedia-album.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: CollectionOfMultimediaAlbumsComponent\r\n  },\r\n  {\r\n    path: \":id\",\r\n    component: MultimediaAlbumComponent\r\n  },\r\n  {\r\n    path: \"**\",\r\n    redirectTo: \"\"\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: \"filterCollections\"\n})\nexport class FilterCollectionsPipe implements PipeTransform {\n  transform(items: any[], searchText: string): any[] {\n    if (!items) return [];\n    if (!searchText) return items;\n\n    searchText = searchText.toLowerCase();\n    return items.filter((item) => {\n      var type = item.type;\n      if (type == 0) {\n        type = \"public\";\n      } else {\n        type = \"private\";\n      }\n      return (\n        item.name.toLowerCase().includes(searchText) ||\n        item.keywords.split(\",\").some((word) => {\n          return word.toLowerCase().includes(searchText);\n        }) ||\n        type.includes(searchText)\n      );\n    });\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\nimport { ApiService } from '../../../shared/api/api.service';\n\n@Component({\n  selector: \"app-album-loader\",\n  templateUrl: \"./album-loader.component.html\",\n  styleUrls: [\"./album-loader.component.scss\"]\n})\nexport class AlbumLoaderComponent implements OnInit {\n  @Input()\n  sourceUrl;\n  @Input()\n  entityId;\n\n  source;\n  extension;\n\n  constructor(public api: ApiService) {}\n\n  ngOnInit() {\n    this.getEntity(this.sourceUrl.replace(\"/$entityId\", `/${this.entityId}`));\n  }\n\n  getEntity(entityUrl) {\n    this.api.getData(entityUrl).subscribe((data: any) => {\n      this.source = data.data;\n      this.extension = data.extension;\n    });\n  }\n}\n","import { AfterViewInit, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: \"app-lightbox\",\n  templateUrl: \"./lightbox.component.html\",\n  styleUrls: [\"./lightbox.component.scss\"]\n})\nexport class LightboxComponent implements OnInit, AfterViewInit, OnChanges {\n  @Input()\n  data;\n\n  @Input()\n  type;\n\n  @Input()\n  index;\n\n  @Input()\n  show;\n\n  @Input()\n  noMoreData;\n\n  @Input()\n  entityUrl;\n\n  @Input()\n  slideShow;\n\n  @Input()\n  lockSlideShow;\n\n  @Input()\n  slideShowTimeBeforeNext: number;\n\n  @Output()\n  noShow = new EventEmitter();\n\n  @Output()\n  loadMore = new EventEmitter();\n\n  slideIndex;\n  ready = 0;\n  startSlideShow = false;\n\n  constructor() {}\n\n  ngOnInit() {\n    if (typeof this.slideShow == \"string\") {\n      this.slideShow = this.slideShow == \"true\";\n    }\n    if (typeof this.lockSlideShow == \"string\") {\n      this.lockSlideShow = this.lockSlideShow == \"true\";\n    }\n  }\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.ready = 1;\n    }, 1000);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.start();\n  }\n\n  start() {\n    if (this.ready == 1) {\n      if (this.show == 1) {\n        this.slideIndex = this.index;\n        this.openEntityModal();\n        this.currentSlide(this.slideIndex + 1);\n        console.log(this.slideShow);\n        if (this.slideShow == true && this.startSlideShow == false) {\n          this.startSlideShow = true;\n          setInterval(() => {\n            this.plusSlides(1);\n            console.log(\"here\");\n          }, this.slideShowTimeBeforeNext);\n        }\n      }\n    } else {\n      setTimeout(this.start, 1000);\n    }\n  }\n\n  openEntityModal() {\n    document.getElementById(`${this.type}Modal`).style.display = \"block\";\n  }\n  closeEntityModal() {\n    console.log(typeof this.lockSlideShow);\n    if (this.lockSlideShow == false) {\n      document.getElementById(`${this.type}Modal`).style.display = \"none\";\n      this.noShow.emit(0);\n    }\n  }\n  plusSlides(n) {\n    this.showSlides((this.slideIndex += n));\n  }\n\n  currentSlide(n) {\n    this.showSlides((this.slideIndex = n));\n  }\n\n  showSlides(n) {\n    var i;\n    var slides = document.getElementsByClassName(`my${this.type}Slides`);\n    // console.log(slides);\n    if (n > slides.length) {\n      if (this.noMoreData) {\n        this.slideIndex = 1;\n      } else {\n        this.loadMore.emit(true);\n        this.slideIndex = this.slideIndex - 1;\n      }\n    }\n    console.log(slides);\n\n    if (n < 1) {\n      this.slideIndex = slides.length;\n    }\n    for (i = 0; i < slides.length; i++) {\n      slides[i][\"style\"].display = \"none\";\n    }\n\n    slides[this.slideIndex - 1][\"style\"].display = \"block\";\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: \"filterAlbum\"\n})\nexport class FilterAlbumPipe implements PipeTransform {\n  transform(items: any[], searchText: string): any[] {\n    if (!items) return [];\n    if (!searchText) return items;\n\n    searchText = searchText.toLowerCase();\n    return items.filter((item) => {\n      return (\n        item.name.toLowerCase().includes(searchText) ||\n        item.extension.toLowerCase().includes(searchText) ||\n        item.keywords.split(\",\").some((word) => {\n          return word.toLowerCase().includes(searchText);\n        })\n      );\n    });\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { EMPTY } from 'rxjs';\nimport { catchError, map, take } from 'rxjs/operators';\n\nimport { ApiService } from '../../../shared/api/api.service';\n\n@Component({\n  selector: \"app-stand-alone\",\n  templateUrl: \"./stand-alone.component.html\",\n  styleUrls: [\"./stand-alone.component.scss\"]\n})\nexport class StandAloneComponent implements OnInit {\n  @Input()\n  gridSize: number; // number of albums displayed on a row\n\n  @Input()\n  gridSizeSuggestions: number;\n\n  @Input()\n  skip: number;\n\n  @Input()\n  take: number;\n\n  @Input()\n  albumUrl: string; // api call to retrieve the albums in the Album it can be used for both local and remote resources like a local json or from a server\n\n  @Input()\n  suggestedEntityUrl: string; // api call to retrieve the Entities in the Entity\n\n  @Input()\n  deleteEntityUrl: string; // api call to delete the Entities in the Entity\n\n  @Input()\n  addEntitiesUrl: string;\n\n  @Input()\n  getEntityUrl: string;\n\n  @Input()\n  slideShow: boolean;\n\n  @Input()\n  lockSlideShow: boolean;\n\n  @Input()\n  slideShowTimeBeforeNext: number;\n\n  @Input()\n  configPath: string;\n\n  // used to redirect to the album\n  //placeholders for the images of the album(in 3d mode or image in 2d)\n  @Input()\n  bootstrapAccentPrimary: string;\n\n  @Input()\n  bootstrapAccentSecondary: string;\n\n  constructor(public api: ApiService) {}\n\n  ngOnInit() {}\n\n  loadInputOptionsOrDefault() {\n    this.configPath = \"../../../assets/config.json\";\n    if (typeof this.configPath != \"undefined\") {\n      this.api\n        .getData(this.configPath)\n        .pipe(\n          catchError((err) => {\n            this.loadDefault();\n\n            return EMPTY;\n          }),\n          take(1),\n          map((data) => {\n            console.log(\"here\");\n            return data;\n          })\n        )\n        .subscribe((config) => {\n          if (typeof config[\"gridSize\"] != \"undefined\" && typeof this.gridSize == \"undefined\") {\n            this.gridSize = config[\"gridSize\"];\n          }\n          if (\n            typeof config[\"gridSizeSuggestions\"] != \"undefined\" &&\n            typeof this.gridSizeSuggestions == \"undefined\"\n          ) {\n            this.gridSizeSuggestions = config[\"gridSizeSuggestions\"];\n          }\n          if (typeof config[\"skip\"] != \"undefined\" && typeof this.skip == \"undefined\") {\n            this.skip = config[\"skip\"];\n          }\n          if (typeof config[\"take\"] != \"undefined\" && typeof this.take == \"undefined\") {\n            this.take = config[\"take\"];\n          }\n          if (\n            typeof config[\"bootstrapAccentPrimary\"] != \"undefined\" &&\n            typeof this.bootstrapAccentPrimary == \"undefined\"\n          ) {\n            this.bootstrapAccentPrimary = config[\"bootstrapAccentPrimary\"];\n          }\n          if (\n            typeof config[\"bootstrapAccentSecondary\"] != \"undefined\" &&\n            typeof this.bootstrapAccentSecondary == \"undefined\"\n          ) {\n            this.bootstrapAccentSecondary = config[\"bootstrapAccentSecondary\"];\n          }\n          if (typeof config[\"albumUrl\"] != \"undefined\" && typeof this.albumUrl == \"undefined\") {\n            this.albumUrl = config[\"albumUrl\"];\n          }\n          if (\n            typeof config[\"suggestedEntityUrl\"] != \"undefined\" &&\n            typeof this.suggestedEntityUrl == \"undefined\"\n          ) {\n            this.suggestedEntityUrl = config[\"suggestedEntityUrl\"];\n          }\n          if (\n            typeof config[\"deleteEntityUrl\"] != \"undefined\" &&\n            typeof this.deleteEntityUrl == \"undefined\"\n          ) {\n            this.deleteEntityUrl = config[\"deleteEntityUrl\"];\n          }\n          if (\n            typeof config[\"addEntitiesUrl\"] != \"undefined\" &&\n            typeof this.addEntitiesUrl == \"undefined\"\n          ) {\n            this.addEntitiesUrl = config[\"addEntitiesUrl\"];\n          }\n          if (\n            typeof config[\"getEntityUrl\"] != \"undefined\" &&\n            typeof this.getEntityUrl == \"undefined\"\n          ) {\n            this.getEntityUrl = config[\"getEntityUrl\"];\n          }\n          if (typeof config[\"slideShow\"] != \"undefined\" && typeof this.slideShow == \"undefined\") {\n            this.slideShow = config[\"slideShow\"];\n          }\n          if (\n            typeof config[\"lockSlideShow\"] != \"undefined\" &&\n            typeof this.lockSlideShow == \"undefined\"\n          ) {\n            this.lockSlideShow = config[\"lockSlideShow\"];\n          }\n          if (\n            typeof config[\"slideShowTimeBeforeNext\"] != \"undefined\" &&\n            typeof this.slideShowTimeBeforeNext == \"undefined\"\n          ) {\n            this.slideShowTimeBeforeNext = config[\"slideShowTimeBeforeNext\"];\n          }\n          this.loadDefault();\n        });\n    } else {\n      this.loadDefault();\n    }\n  }\n\n  loadDefault() {\n    if (typeof this.gridSize == \"undefined\") {\n      this.gridSize = 10;\n    }\n    if (typeof this.gridSizeSuggestions == \"undefined\") {\n      this.gridSizeSuggestions = 3;\n    }\n    if (typeof this.skip == \"undefined\") {\n      this.skip = 0;\n    }\n    if (typeof this.take == \"undefined\") {\n      this.take = 10;\n    }\n    if (typeof this.bootstrapAccentPrimary == \"undefined\") {\n      this.bootstrapAccentPrimary = \"danger\";\n    }\n    if (typeof this.bootstrapAccentSecondary == \"undefined\") {\n      this.bootstrapAccentSecondary = \"dark\";\n    }\n    if (typeof this.albumUrl == \"undefined\") {\n      this.albumUrl = \"\";\n    }\n    if (typeof this.suggestedEntityUrl == \"undefined\") {\n      this.suggestedEntityUrl = \"\";\n    }\n    if (typeof this.deleteEntityUrl == \"undefined\") {\n      this.deleteEntityUrl = \"\";\n    }\n    if (typeof this.addEntitiesUrl == \"undefined\") {\n      this.addEntitiesUrl = \"\";\n    }\n    if (typeof this.getEntityUrl == \"undefined\") {\n      this.getEntityUrl = \"\";\n    }\n    if (typeof this.slideShow == \"undefined\") {\n      this.slideShow = false;\n    }\n    if (typeof this.lockSlideShow == \"undefined\") {\n      this.lockSlideShow = false;\n    }\n    if (typeof this.slideShowTimeBeforeNext == \"undefined\") {\n      this.slideShowTimeBeforeNext = 5000;\n    }\n\n    var albumInputs = {\n      gridSize: this.gridSize,\n      gridSizeSuggestions: this.gridSizeSuggestions,\n      skip: this.skip,\n      take: this.take,\n      bootstrapAccentPrimary: this.bootstrapAccentPrimary,\n      bootstrapAccentSecondary: this.bootstrapAccentSecondary,\n      albumUrl: this.albumUrl,\n      suggestedEntityUrl: this.suggestedEntityUrl,\n      deleteEntityUrl: this.deleteEntityUrl,\n      addEntitiesUrl: this.addEntitiesUrl,\n      getEntityUrl: this.getEntityUrl,\n      lockSlideShow: this.lockSlideShow,\n      slideShow: this.slideShow,\n      slideShowTimeBeforeNext: this.slideShowTimeBeforeNext\n    };\n    sessionStorage.setItem(\"albumInputs\", JSON.stringify(albumInputs));\n  }\n}\n","import { AfterViewInit, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\nimport * as $_ from 'jquery';\nimport * as pdfjsLib from 'pdfjs-dist';\nimport { take } from 'rxjs/operators';\n\nimport { ApiService } from '../../../shared/api/api.service';\n\n@Component({\n  selector: \"app-upload\",\n  templateUrl: \"./upload.component.html\",\n  styleUrls: [\"./upload.component.scss\"]\n})\nexport class UploadComponent implements OnInit, OnChanges, AfterViewInit {\n  @Input()\n  upload;\n\n  @Input()\n  cancel;\n\n  @Input()\n  collectionId;\n\n  @Input()\n  addEntitiesUrl;\n\n  @Input()\n  bootstrapAccentSecondary;\n\n  @Output()\n  newData = new EventEmitter();\n\n  @Output()\n  discarded = new EventEmitter();\n\n  $ = $_;\n\n  imageFormats = [\"jpeg\", \"jpg\", \"png\", \"webp\", \"gif\"];\n  videoFormats = [\"webm\", \"ogv\", \"mp4\"];\n  audioFormats = [\"mp3\", \"wave\", \"ogg\", \"oga\"];\n  bypassCors = \"http://cors-anywhere.herokuapp.com/\";\n  arrayOfEntityAndPlaceholder = [];\n  urlInput = \"\";\n  constructor(public api: ApiService) {}\n\n  ngOnInit() {\n    this.makeUploadArea();\n    // setInterval(() => {\n    //   console.log(this.arrayOfEntityAndPlaceholder);\n    // }, 1000);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.upload == true) {\n      this.uploadFiles();\n    }\n    if (this.cancel == true) {\n      this.uploadFiles();\n    }\n  }\n\n  ngAfterViewInit(): void {}\n\n  discardFile(entity) {\n    this.arrayOfEntityAndPlaceholder = this.arrayOfEntityAndPlaceholder.filter(\n      (item) => item != entity\n    );\n    console.log(this.arrayOfEntityAndPlaceholder);\n  }\n\n  discardChanges() {\n    this.arrayOfEntityAndPlaceholder = [];\n    this.discarded.emit(0);\n  }\n\n  uploadFiles() {\n    console.log(this.addEntitiesUrl);\n    console.log(this.arrayOfEntityAndPlaceholder);\n    var sendData = [];\n    var totalStorage = 0;\n    this.arrayOfEntityAndPlaceholder.forEach((entity) => {\n      console.log(entity.fileSize);\n      if (entity.fileSize <= 21) {\n        if (totalStorage <= 21 && totalStorage + entity.fileSize <= 21) {\n          sendData.push(entity);\n          totalStorage += entity.fileSize;\n        } else {\n          this.postData(sendData);\n          totalStorage = 0;\n          sendData = [];\n\n          sendData.push(entity);\n          totalStorage += entity.fileSize;\n        }\n      }\n    });\n    if (sendData.length > 0) {\n      this.postData(sendData);\n    }\n    this.arrayOfEntityAndPlaceholder = [];\n  }\n\n  postData(sendData) {\n    this.api\n      .postData(this.addEntitiesUrl, sendData)\n      .pipe(take(1))\n      .subscribe((data) => {\n        for (var i = 0; i < sendData.length; i++) {\n          sendData[i][\"entityFile\"] = null;\n          sendData[i][\"id\"] = data[i][\"id\"];\n        }\n        this.newData.emit(sendData);\n      });\n  }\n\n  makeUploadArea() {\n    $(\"#uploadModal\").on({\n      \"dragover dragenter\": (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      drop: (e, ui) => {\n        var dataTransfer = e.originalEvent[\"dataTransfer\"];\n        console.log(dataTransfer);\n        if (dataTransfer && dataTransfer.files.length) {\n          console.log(dataTransfer);\n          e.preventDefault();\n          e.stopPropagation();\n          this.readUploadedFilesAndGetPlaceholders(dataTransfer.files, this.collectionId);\n        }\n      }\n    });\n  }\n\n  uploadFilesFromButton(event) {\n    this.readUploadedFilesAndGetPlaceholders(event.target.files, this.collectionId);\n  }\n\n  readUploadedFilesAndGetPlaceholders(e, collectionId) {\n    const width = 200;\n    const height = 200;\n    console.log(e);\n    Object.keys(e).forEach((file) => {\n      console.log(e[file]);\n      console.log(e[file].name);\n\n      const fileName = e[file].name;\n      const fileSize = e[file].size / 1024000;\n\n      const reader = new FileReader();\n      reader.readAsDataURL(e[file]);\n      (reader.onload = (event) => {\n        var readerMetaData = event.target[\"result\"].split(\";\")[0];\n        if (readerMetaData.includes(\"image\") && readerMetaData.includes(\"svg\")) {\n          this.imageData(\n            event.target[\"result\"],\n            width,\n            height,\n            \"svg\",\n            fileName,\n            0,\n            collectionId,\n            fileSize\n          );\n        }\n        if (readerMetaData.includes(\"image\") && !readerMetaData.includes(\"svg\")) {\n          this.imageData(\n            event.target[\"result\"],\n            width,\n            height,\n            \"image\",\n            fileName,\n            0,\n            collectionId,\n            fileSize\n          );\n        }\n        if (readerMetaData.includes(\"audio\")) {\n          this.audioData(\n            event.target[\"result\"],\n            width,\n            height,\n            \"audio\",\n            fileName,\n            0,\n            collectionId,\n            fileSize\n          );\n        }\n        if (readerMetaData.includes(\"video\")) {\n          this.videoData(\n            event.target[\"result\"],\n            width,\n            height,\n            \"video\",\n            fileName,\n            0,\n            collectionId,\n            fileSize\n          );\n        }\n        if (readerMetaData.includes(\"pdf\")) {\n          this.pdfData(\n            event.target[\"result\"],\n            width,\n            height,\n            \"pdf\",\n            fileName,\n            0,\n            collectionId,\n            fileSize\n          );\n        }\n        console.log(this.arrayOfEntityAndPlaceholder);\n      }),\n        (reader.onerror = (error) => console.log(error));\n    });\n  }\n\n  urlInputClass = \"\";\n  scrapUrl() {\n    this.getPlaceholderFromUrl(this.collectionId);\n  }\n\n  getPlaceholderFromUrl(collectionId) {\n    const width = 200;\n    const height = 200;\n\n    var url = this.urlInput.split(\"?\")[0];\n    var extensionArr = url.split(\".\");\n    var extension = extensionArr[extensionArr.length - 1];\n    var fileSize = 0.05;\n    var fileName = \"File From Url\";\n    if (typeof url != \"undefined\") {\n      if (\n        this.imageFormats.includes(extension) ||\n        this.audioFormats.includes(extension) ||\n        this.videoFormats.includes(extension) ||\n        extension == \"pdf\" ||\n        extension == \"svg\" ||\n        url.includes(\"youtube\")\n      ) {\n        if (extension == \"svg\") {\n          this.imageData(url, width, height, \"svg\", fileName, 1, collectionId, fileSize);\n        }\n        if (this.imageFormats.includes(extension)) {\n          this.imageData(url, width, height, \"image\", fileName, 1, collectionId, fileSize);\n        }\n        if (this.audioFormats.includes(extension)) {\n          this.audioData(url, width, height, \"audio\", fileName, 1, collectionId, fileSize);\n        }\n        if (this.videoFormats.includes(extension)) {\n          this.videoData(url, width, height, \"video\", fileName, 1, collectionId, fileSize);\n        }\n        if (extension == \"pdf\") {\n          this.pdfData(url, width, height, \"pdf\", fileName, 1, collectionId, fileSize);\n        }\n        if (url.includes(\"youtube\")) {\n          this.youtubeData(\n            this.urlInput,\n            width,\n            height,\n            \"youtube\",\n            fileName,\n            1,\n            collectionId,\n            fileSize\n          );\n        }\n        this.urlInputClass = \"\";\n      } else {\n        this.urlInputClass = \"text-danger\";\n      }\n    } else {\n      this.urlInputClass = \"text-danger\";\n    }\n    this.urlInput = \"\";\n  }\n\n  generatePostObject(data, canvas, extension, fileName, isUrl, collectionId, fileSize) {\n    return {\n      name: fileName.split(\".\")[0],\n      data: canvas.toDataURL(\"image/jpeg\", 1),\n      collectionId: collectionId,\n      extension: extension,\n      keywords: \"\",\n      fileSize: fileSize,\n      entityFile: [\n        {\n          name: fileName,\n          extension: extension,\n          isUrl: isUrl,\n          data: data\n        }\n      ]\n    };\n  }\n\n  imageData(data, width, height, extension, fileName, isUrl, collectionId, fileSize) {\n    const img = new Image();\n    if (isUrl == 1) {\n      img.crossOrigin = \"Anonymous\";\n      img.src = this.bypassCors + data;\n    } else {\n      img.src = data;\n    }\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = width;\n      canvas.height = height;\n      canvas.getContext(\"2d\").drawImage(img, 0, 0, width, height);\n\n      this.arrayOfEntityAndPlaceholder.push(\n        this.generatePostObject(data, canvas, extension, fileName, isUrl, collectionId, fileSize)\n      );\n      console.log(this.arrayOfEntityAndPlaceholder);\n    };\n  }\n\n  audioData(data, width, height, extension, fileName, isUrl, collectionId, fileSize) {\n    const img = new Image();\n    img.src = \"../../../assets/music-icon.jpg\";\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = width;\n      canvas.height = height;\n      canvas.getContext(\"2d\").drawImage(img, 0, 0, width, height);\n      this.arrayOfEntityAndPlaceholder.push(\n        this.generatePostObject(data, canvas, extension, fileName, isUrl, collectionId, fileSize)\n      );\n    };\n  }\n  pdfData(data, width, height, extension, fileName, isUrl, collectionId, fileSize) {\n    var dataBypass;\n    if (isUrl == 1) {\n      dataBypass = this.bypassCors + data;\n    } else {\n      dataBypass = data;\n    }\n    pdfjsLib.getDocument(dataBypass).then((pdf) => {\n      pdf.getPage(1).then((page) => {\n        var canvas = document.createElement(\"canvas\");\n        var viewport = page.getViewport(1.0);\n        var context = canvas.getContext(\"2d\");\n\n        canvas.height = height;\n        canvas.width = width;\n\n        page\n          .render({\n            canvasContext: context,\n            viewport: viewport\n          })\n          .then(() => {\n            this.arrayOfEntityAndPlaceholder.push(\n              this.generatePostObject(\n                data,\n                canvas,\n                extension,\n                fileName,\n                isUrl,\n                collectionId,\n                fileSize\n              )\n            );\n          });\n      });\n    });\n  }\n\n  videoData(data, width, height, extension, fileName, isUrl, collectionId, fileSize) {\n    const video = document.createElement(\"video\");\n    if (isUrl == 1) {\n      video.crossOrigin = \"Anonymous\";\n      video.src = this.bypassCors + data;\n    } else {\n      video.src = data;\n    }\n    video.onloadeddata = (e) => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = width;\n      canvas.height = height;\n      canvas.getContext(\"2d\").drawImage(video, 0, 0, width, height);\n      this.arrayOfEntityAndPlaceholder.push(\n        this.generatePostObject(data, canvas, extension, fileName, isUrl, collectionId, fileSize)\n      );\n    };\n  }\n\n  youtubeData(data, width, height, extension, fileName, isUrl, collectionId, fileSize) {\n    var url = \"https://img.youtube.com/vi/\" + data.split(\"/watch?v=\")[1] + \"/0.jpg\";\n    const img = new Image();\n    img.crossOrigin = \"Anonymous\";\n    img.src = this.bypassCors + url;\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = width;\n      canvas.height = height;\n      canvas.getContext(\"2d\").drawImage(img, 0, 0, width, height);\n      this.arrayOfEntityAndPlaceholder.push(\n        this.generatePostObject(data, canvas, extension, fileName, isUrl, collectionId, fileSize)\n      );\n    };\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: \"app-audio-module\",\n  templateUrl: \"./audio-module.component.html\",\n  styleUrls: [\"./audio-module.component.scss\"]\n})\nexport class AudioModuleComponent implements OnInit {\n  @Input()\n  source: any;\n\n  constructor(public sanitizer: DomSanitizer) {}\n\n  ngOnInit() {}\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: \"app-image-module\",\n  templateUrl: \"./image-module.component.html\",\n  styleUrls: [\"./image-module.component.scss\"]\n})\nexport class ImageModuleComponent implements OnInit {\n  @Input()\n  source: any;\n\n  constructor(public sanitizer: DomSanitizer) {}\n\n  ngOnInit() {}\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: \"app-video-module\",\n  templateUrl: \"./video-module.component.html\",\n  styleUrls: [\"./video-module.component.scss\"]\n})\nexport class VideoModuleComponent implements OnInit {\n  @Input()\n  source: any;\n  constructor(public sanitizer: DomSanitizer) {}\n\n  ngOnInit() {}\n}\n","import { APP_BASE_HREF } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { PdfModuleModule } from '@multimedia-album-management/extras/pdf-module';\nimport { SvgModuleModule } from '@multimedia-album-management/extras/svg-module';\nimport { YoutubeModuleModule } from '@multimedia-album-management/extras/youtube-module';\nimport { SpeechModule } from 'ngx-speech';\n\nimport { AppRoutingModule } from './core/app-routing.module';\nimport {\n  CollectionOfMultimediaAlbumsComponent,\n} from './features/collection-of-multimedia-albums/collection-of-multimedia-albums.component';\nimport { FilterCollectionsPipe } from './features/collection-of-multimedia-albums/pipe/filterCollections.pipe';\nimport { AlbumLoaderComponent } from './features/multimedia-album/album-loader/album-loader.component';\nimport { LightboxComponent } from './features/multimedia-album/lightbox/lightbox.component';\nimport { MultimediaAlbumComponent } from './features/multimedia-album/multimedia-album.component';\nimport { FilterAlbumPipe } from './features/multimedia-album/pipe/filterAlbum.pipe';\nimport { StandAloneComponent } from './features/multimedia-album/stand-alone/stand-alone.component';\nimport { UploadComponent } from './features/multimedia-album/upload/upload.component';\nimport { NgxMultiMediaAlbumManagementComponent } from './ngx-multi-media-album-management.component';\nimport { AudioModuleComponent } from './shared/modularComponents/audio-module/audio-module.component';\nimport { ImageModuleComponent } from './shared/modularComponents/image-module/image-module.component';\nimport { VideoModuleComponent } from './shared/modularComponents/video-module/video-module.component';\n\n@NgModule({\n  declarations: [\n    NgxMultiMediaAlbumManagementComponent,\n    MultimediaAlbumComponent,\n    CollectionOfMultimediaAlbumsComponent,\n    AlbumLoaderComponent,\n    ImageModuleComponent,\n    VideoModuleComponent,\n    AudioModuleComponent,\n    FilterCollectionsPipe,\n    FilterAlbumPipe,\n    StandAloneComponent,\n    LightboxComponent,\n    UploadComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    SpeechModule,\n    PdfModuleModule,\n    SvgModuleModule,\n    YoutubeModuleModule\n  ],\n  providers: [\n    { provide: APP_BASE_HREF, useValue: \"/\" },\n    { provide: \"SPEECH_LANG\", useValue: \"en-US\" }\n  ],\n  exports: [CollectionOfMultimediaAlbumsComponent, StandAloneComponent]\n})\nexport class NgxMultiMediaAlbumManagementModule {}\n"]}